{% extends "base.html" %}
{% block content %}

<div class="card shadow-sm">
  <div class="card-body">
    <h3 class="mb-3 text-danger">Delete patient</h3>

    <p>
      Are you sure you want to delete
      <strong>{{ patient.full_name }}</strong> (MRN: {{ patient.mrn }})?
    </p>

    <div class="alert alert-warning">
      This will also delete all encounters, observations, and risk assessments linked to this patient.
    </div>

    {% if messages %}
      {% for message in messages %}
        <div class="alert alert-{{ message.tags }} mb-3" role="alert">
          {{ message }}
        </div>
      {% endfor %}
    {% endif %}

    <form method="post">
      {% csrf_token %}

      <div class="mb-3">
        <label for="password" class="form-label">
          Enter your password to confirm deletion:
        </label>
        <input
          type="password"
          name="password"
          id="password"
          class="form-control"
          required
          autocomplete="current-password"
        >
      </div>

      <button type="submit" class="btn btn-danger">Yes, delete</button>
      <a href="{% url 'patients:patient_detail' patient.id %}" class="btn btn-outline-secondary">
        Cancel
      </a>
    </form>
  </div>
</div>

{% endblock %}
